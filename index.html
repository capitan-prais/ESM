<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Contenidos</title>
    <style>
        body {
    width: 100%;
    height: 100%;
    font-family: 'Roboto', Arial, sans-serif; /* Fuente más moderna */
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh; /* Hace que el body ocupe toda la altura de la pantalla */
    background-color: #ffff; /* Fondo suave */
    overflow-x: hidden; /* Evita el desplazamiento horizontal */
    box-sizing: border-box; /* Asegura que el padding y el borde no afecten el tamaño total */
}


/* Estilo para una mejor visualización en dispositivos móviles */
@media (max-width: 768px) {
    body {
        padding: 10px; /* Añadir padding en pantallas pequeñas */
    }
}

/* Fondo de pantalla con un gradiente suave en dispositivos pequeños (opcional) */
@media (max-width: 768px) {
    body::before {
        background: linear-gradient(45deg, rgba(255, 255, 255, 0.7), rgba(243, 244, 246, 0.85));
    }
}

/* Estilo del buscador flotante ////////////////////////////////////////////*/
.search-container {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #fff;
            padding: 10px 15px;
            border-radius: 50px;
            border: solid .5px #ccc;
            z-index: 10;
            display: flex;
            align-items: center;
            width: 250px;
            opacity: 0;
            transition: all 0.3s ease;
            animation: moveRight 3s ease-in-out forwards;
        }

        .search-container:hover {
    box-shadow: 0 6px 12px rgba(0, 221, 255, 0.2); /* Sombra más intensa */
        }

        @keyframes moveRight {
            from {
                opacity: 0;
                transform: translateX(0);
            }
            to {
                opacity: 1;
                transform: translateX(0); /* Ajusta según lo necesario */
            }
        }

        .search-container input {
            border: 1px solid #ccc;
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 16px;
            width: 100%;
        }

        .search-container input:focus {
            border-color: #007bff;
            outline: none;
        }

    @media (max-width: 768px) {
        .search-container{
            top: 30px;
            right: 10px;
        }
}



/* contenedor de los patentes agregados y totales ////////////////////////////////// */



h1 {
    font-family: 'Roboto', Arial, sans-serif; /* Fuente moderna */
    font-size: 2rem; /* Tamaño grande */
    font-weight: 700; /* Peso de fuente en negrita */
    text-align: center; /* Centrado del texto */
    color: #555; /* Color oscuro para un buen contraste */
    margin: 10px auto; /* Espaciado superior e inferior */
    padding: 0; /* Elimina padding innecesario */
    text-transform: uppercase; /* Transforma a mayúsculas */
    letter-spacing: 4px; /* Espaciado entre letras */
    line-height: 1.2; /* Espaciado entre líneas */
    position: relative; /* Posicionamiento relativo para efectos */
}

@media (max-width: 768px) {
    
    h1{
        width: 100%;
        margin-top: 80px;
        margin-left: 80px;
    }
}

/* contenedor que agrega patentes /////////////////////////////////////*/

.content {
            font-weight: bold;  /* Hace el texto más destacado */
            font-size: 17px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            padding: 8px;
            background-color: #f9fafb;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            justify-content: space-around;
            animation: fadeInExpand 0.6s ease-out; /* Aplicando la animación */
        }
        .content:hover {
            background-color: #e3fafe; /* Un color suave y agradable */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        /* Nueva animación de desvanecimiento y expansión */
        @keyframes fadeInExpand {
            0% {
                opacity: 0;
                transform: scale(5);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @media (max-width: 768px) {
    
    .content{
        width: 135%;
    }
}


/* botones del contenedor que esta la info de las patentes //////////////////// */

button {
           color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;  /* Hace el texto más destacado */
            min-width: 90px; /* Evita que los botones se encojan demasiado */
        }

/* Efecto hover */
 .btn-SALIDA:hover, .btn-light:hover, .btn-info:hover {
    transform: scale(1);  /* Efecto de aumento de tamaño */
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2); /* Sombra más intensa */
    letter-spacing: 1px; /* Mayor espacio entre letras */
}

/* Efecto active (cuando se hace clic) */
 .btn-SALIDA:active, .btn-light:active, .btn-info:active {
    transform: scale(0.98);  /* Efecto de reducción de tamaño */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Sombra más tenue */
}

/* Botón salida */
.btn-SALIDA {
    background-color: #dc3545; /* Rojo claro */
}

.btn-SALIDA:hover {
    background-color: #ff4d4d; /* Rojo más brillante */
}

.btn-SALIDA:active {
    background-color: #e53935; /* Rojo más oscuro al hacer clic */
}

/* Botón efectivo */
.btn-light {
    background-color: #28a745; /* Verde */
    cursor: not-allowed;
}

.btn-light:hover {
    background-color: #34d058; /* Verde más brillante */
}

.btn-light:active {
    background-color: #1e7e34; /* Verde más oscuro */
}

/* Botón tarjeta */
.btn-info {
    background-color: #0056b3; /* Azul */
    cursor: not-allowed;
}

.btn-info:hover {
    background-color: #007bff; /* Azul más brillante */
}

.btn-info:active {
    background-color: #004085; /* Azul más oscuro */
}





/* boton que agrega patentes */ 

.btn-success {
            position: fixed;
            bottom: 50%;
            right: 0;
            z-index: 2;
            width: 160px;
            height: 80px;
            background-color: #218838;
            padding: 12px 20px;  /* Aumenta el padding */
            font-size: 18px;  /* Mayor tamaño de texto */
            font-weight: bold;  /* Hace el texto más destacado */
            border-radius: 10px;  /* Borde más redondeado */
            text-transform: uppercase; /* Pone el texto en mayúsculas */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra suave */
            transition: all 0.3s ease;  /* Transición suave para efectos */
            opacity: 0;
            animation: bounceIn .5s ease-out forwards;
            animation-delay: 3.1s;
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }
            25% {
                opacity: 1;
                transform: scale(1.25);
            }
            50% {
                opacity: 1;
                transform: scale(1.5);
            }
            75% {
                opacity: 1;
                transform: scale(1.25);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        /* Efecto hover */
.btn-success:hover {
    background-color: #3cc45c; /* Verde más oscuro */
    transform: scale(1.1);  /* Aumenta el tamaño */
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3); /* Sombra más intensa */
    letter-spacing: 2px; /* Aumenta el espaciado entre letras */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); /* Agrega sombra al texto */
}

/* Efecto active (cuando se hace clic) */
.btn-success:active {
    background-color: #1e7e34; /* Verde aún más oscuro */
    transform: scale(0.98);  /* Reduce el tamaño */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Sombra más tenue */
} 

@media (max-width: 768px) {
    .btn-success{
        z-index: 99999;
    }
}




/* estilos para el logo de la pagina /////////////////////////////////////////////////////////*/

img#logo{
    position: absolute;  /* Posicionamiento absoluto respecto al body */
    margin: 10px 0px 0px 10px;
    top: 0;              /* Alineado con la parte superior de la página */
    left: 0;             /* Alineado con la parte izquierda de la página */
    width: 300px;         /* Puedes ajustar el tamaño */
    height: 80px;        /* Ajusta a toda la pantalla, si es necesario */
    z-index: -1;       /* Z-index alto para que quede encima de todo */
    pointer-events: none; /* Hace que la imagen no interfiera con la interacción con otros elementos */
    opacity: 0;
    transition: all 0.3s ease;
    animation: moveleft 3s ease-in-out forwards;
 }

 img#logo2{
    position: absolute;  /* Posicionamiento absoluto respecto al body */
    margin: 10px 0px 0px 10px;
    top: 0;              /* Alineado con la parte superior de la página */
    left: 0;             /* Alineado con la parte izquierda de la página */
    width: 300px;         /* Puedes ajustar el tamaño */
    height: 80px;        /* Ajusta a toda la pantalla, si es necesario */
    z-index: -10;       /* Z-index alto para que quede encima de todo */
    pointer-events: none; /* Hace que la imagen no interfiera con la interacción con otros elementos */
 }

 @keyframes moveleft {
            from {
                opacity: 0;
                transform: translateX(300px);
            }
            to {
                opacity: 1;
                transform: translateX(0); /* Ajusta según lo necesario */
            }
        }

        .btn {
            padding: 10px;
            margin: 5px;
            cursor: pointer;
        }
        .btn-danger {
            background-color: red;
            color: white;
        }
        .btn-success {
            background-color: green;
            color: white;
        }
    
        .time-info, .price-info {
            margin: 0;
            font-style: italic;
        }

        .price-info {
            font-size: 25px;
        }

/* aqui editamos el contenedor de entrada de baños //////////////////////////////*/

.contenedor-fijo {
    position: sticky;
    bottom: 0; /* Fija el contenedor en la parte inferior */
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 600px; /* Tamaño máximo para el contenedor */
    margin: 0 auto; /* Centra el contenedor */
    border-radius: 8px;
    padding: 15px 15px 0px 15px;
    z-index: 1000;
    opacity: 0;
    animation: fadeInFromBottom .5s ease-out forwards; /* Cambié el nombre de la animación */
    animation-delay: 1s; /* Retraso para la animación */
}

@keyframes fadeInFromBottom {
    0% {
        opacity: 0;
        transform: translateY(10px); /* Comienza desde abajo */
    }
    100% {
        opacity: 1;
        transform: translateY(0); /* Llega a su posición final */
    }
}

        /* Título del contenedor */
        .contenedor-fijo h3 {
            margin: 0;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            text-align: center; /* Centra el texto */
            border-radius: 5px;
            width: 100%; /* Ocupa todo el ancho del contenedor */
            box-sizing: border-box; /* Asegura que el padding no afecte el tamaño total */
        }

        /* Estilo para los cuadros y el botón */
        .contenedor-interno {
            display: flex;
            flex-direction: row;  /* Alinea la etiqueta y el input horizontalmente */
            align-items: center;  /* Alinea verticalmente la etiqueta y el cuadro */
            width: 45%;  /* Ajuste para que los cuadros estén uno al lado del otro */
        }

#cantidadBaños, #precioBaños{
    margin: 20px;  /* Espacio entre la etiqueta y el cuadro */
    font-weight: bold;
    flex-shrink: 0;  /* Evita que la etiqueta se achique */
}


/* Estilo para el botón */
#addBañoBtn {
            padding: 10px 15px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;  /* Hace el texto más destacado */
            width: 30%; /* El botón ocupa un 20% del contenedor */
            position: absolute;
            left: 60%;
            top: 55%;
        }

        /* Efecto hover */
#addBañoBtn:hover {
    background-color: #1385ff; /* Azul más oscuro */
    transform: translateY(-4px);  /* El botón se eleva ligeramente */
    color: #e2e8f0; /* Cambia el color del texto a gris claro */
    transform: scale(1.1);  /* Efecto de aumento de tamaño */
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2); /* Sombra más intensa */
    letter-spacing: 2px; /* Mayor espacio entre letras */
}

/* Efecto active (cuando se hace clic) */
#addBañoBtn:active {
    transform: translateY(2px);  /* El botón se hunde ligeramente */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra más tenue */
}

/* Estilo para una mejor visualización en dispositivos móviles */
@media (max-width: 768px) {
    .contenedor-fijo {
    position: fixed; /* Cambié 'sticky' a 'fixed' para que quede fijo en la parte inferior */
    bottom: 15px; /* Fija el contenedor en la parte inferior de la página */
    left: 10px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    width: 92%;
    max-width: 600px; /* Tamaño máximo para el contenedor */
    margin: 0 auto; /* Centra el contenedor horizontalmente */
    border-radius: 8px;
    padding: 15px 15px 0px 15px;
}


}


.logo-imprimir {
        position: fixed; /* Fija el logo en la parte inferior */
        bottom: 0mm; /* Espacio desde la parte inferior de la página (puedes ajustarlo) */
        right: 0mm; /* Espacio desde la parte derecha de la página (ajustar a tu gusto) */
        width: 30mm; /* Ancho del logo (ajustar según tamaño del logo) */
        height: auto; /* Mantener las proporciones del logo */
        z-index: 100; /* Asegurar que el logo esté por encima de otros elementos */
        transition: all 0.3s ease;
        animation: moveR 4s ease-in-out forwards;
        }

        @keyframes moveR {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0); /* Ajusta según lo necesario */
            }
        }

/* ocultamos todo lo que no queremos que salga al imprimir */
@media print {

    .btn-success, .btn-light, .btn-info{
        display: none;
    }
  .search-container {
    display: none;
  }

  .logo-imprimir{
    display: none;
  }

  .contenedor-fijo{
    position: relative;
  }

  img#logo{
    width: 200px;
    margin-left: 35px;
  }

}

/* boton que elimina todo el proceso ///////////////////////////////////*/

#clearAllBtn {
    position: relative;
    display: flex;
    right: 0%;
}

@media (max-width: 768px) {

    .container-eliminar-imprimir{
    position: relative; /* Hace que los hijos puedan ser posicionados relativos a este contenedor */
    display: flex;
  width: 500px; /* Ancho del contenedor padre */
  height: 640px; /* Alto del contenedor padre */
  
}
    
    #clearAllBtn {
    position: absolute;
    display: flex;
    bottom: 130px; /* Alinearlos en la parte inferior */
    left: 50px; /* Coloca el primer hijo en la esquina inferior izquierda */
    right: auto;
}

.logo-imprimir {
        position: relative; /* Fija el logo en la parte inferior */
        display: flex;
        left: 40px;
        bottom: -320px; /* Espacio desde la parte inferior de la página (puedes ajustarlo) */
        right: 20px; /* Espacio desde la parte derecha de la página (ajustar a tu gusto) */
        width: 30mm; /* Ancho del logo (ajustar según tamaño del logo) */
        height: auto; /* Mantener las proporciones del logo */
        z-index: 1; /* Asegurar que el logo esté por encima de otros elementos */
        margin-bottom: 100%;
        }
}

 /* Estilo básico para el modal aparece despues de apretar el boton de eliminar*/
 #confirmModal {
            display: none; /* Ocultar por defecto */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 99999;
        }
        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }
        .modal-buttons {
            margin-top: 20px;
        }
        .modal-buttons button {
            color: #000;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }


        /* Estilo para los inputs creados dinámicamente */
.input-estilo {
    padding: 10px;
    margin: 10px 0;
    border: 2px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
    width: 100%;
    box-sizing: border-box; /* Para que el padding no afecte el tamaño total */
    transition: border-color 0.3s ease;
}

/* Estilo cuando el input está enfocado */
.input-estilo:focus {
    border-color: #0066cc;
    outline: none;
}

/* Si deseas darle un color de fondo o cambiar el estilo, puedes agregar más reglas */
.input-estilo::placeholder {
    color: #888;
}



    </style>
</head>
<body>
<!-- buscador -->

<div class="contenedor-padre"></div>
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Buscar patente..." oninput="buscarPatente()">
    </div>

    <button id="addInputBtn" class="btn btn-success">Agregar Patente</button>
    
    <div class="container">
        
        <!-- logo /////////////////////-->
        
        <img id="logo" src="camaro.png" alt="Logo"> 
        <img id="logo2" src="hoja con titulo.jpg" alt="Logo">
       
        
        <h1>Estacionamiento<br>San Martín</h1>
        
        <div id="contentContainer"></div>
        
        <!-- Total Efectivo Display -->
        <div id="totalEfectivo">Total Efectivo: $0</div>
        
        <!-- Total Tarjetas Display -->
        <div id="totalTarjetas">Total Tarjetas: $0</div>
        
        <!-- Total Patentes Display (Suma de Efectivo y Tarjetas) -->
        <div id="totalPatentes">Total Patentes: $0</div>
        
        <!-- Total Patentes + Baño -->
        <div id="totalPatentesYBaño">Total Patentes y Baño: $0</div>
    </div>




    <!-- boton para eliminar lo de localstorage ////////////////////////// -->
     <div class="container-eliminar-imprimir">
         <button id="clearAllBtn" class="btn btn-danger">Eliminar Todo</button>

         
   <!-- botn para imprimir ////////////////////////////////////////////////////////////77 -->

   <img 
   onclick="window.print()"
     src="impresora2.png" 
     alt="Logo" 
     class="logo-imprimir" 
     id="imagen-logo"
     onmouseover="cambiarImagen()" 
     onmouseout="restaurarImagen()"
   >

     </div>

<!-- Modal de confirmación -->
<div id="confirmModal">
    <div class="modal-content">
        <p>¿Ya enviaste el formulario por correo?</p>
        <div class="modal-buttons">
            <button onclick="eliminarContenido(true)">Sí</button>
            <button onclick="eliminarContenido(false)">No</button>
        </div>
    </div>
</div>


    

    <!-- Contenedor Baño -->
    <div class="contenedor-fijo" id="bathContainer">
      <h3>Contador de Baños</h3>
      <div class="contenedor-interno">
          <span id="cantidadBaños">Cantidad: 0</span>
          <span id="precioBaños">total: $0</span>
      </div>
      <button id="addBañoBtn" class="btn btn-light">Agregar Baño</button>
    </div>

     

    <script>
        let totalEfectivo = 0; // Variable para mantener el total en efectivo
        let totalTarjetas = 0; // Variable para mantener el total con tarjeta
        let cantidadBaños = 0; // Contador de baños
        let precioBaños = 0; // Precio total de baños

        // Función para cargar el contenido guardado desde el localStorage
        function loadContent() {
            const savedContent = JSON.parse(localStorage.getItem('contentList'));
            const savedTotalEfectivo = JSON.parse(localStorage.getItem('totalEfectivo'));
            const savedTotalTarjetas = JSON.parse(localStorage.getItem('totalTarjetas'));
            const savedTotalPatentes = JSON.parse(localStorage.getItem('totalPatentes'));
            const savedCantidadBaños = JSON.parse(localStorage.getItem('cantidadBaños'));
            const savedPrecioBaños = JSON.parse(localStorage.getItem('precioBaños'));

            if (savedContent) {
                savedContent.forEach(function(item) {
                    addContent(item.text, item.creationTime, item.timePassed, item.price, item.backgroundColor);
                });
            }

            if (savedTotalEfectivo !== null) {
                totalEfectivo = savedTotalEfectivo;
                document.getElementById('totalEfectivo').textContent = `Total Efectivo: $${totalEfectivo}`;
            }

            if (savedTotalTarjetas !== null) {
                totalTarjetas = savedTotalTarjetas;
                document.getElementById('totalTarjetas').textContent = `Total Tarjetas: $${totalTarjetas}`;
            }

            if (savedTotalPatentes !== null) {
                const totalPatentes = savedTotalPatentes;
                document.getElementById('totalPatentes').textContent = `Total Patentes: $${totalPatentes}`;
            }
            if (savedCantidadBaños !== null) {
                cantidadBaños = savedCantidadBaños;
                document.getElementById('cantidadBaños').textContent = `Cantidad: ${cantidadBaños}`;
            }

            if (savedPrecioBaños !== null) {
                precioBaños = savedPrecioBaños;
                document.getElementById('precioBaños').textContent = `Precio Baño: $${precioBaños}`;
            }

            updateTotalPatentesYBaño(); // Asegurar que el total Patentes y Baño se actualice al cargar
        }

        // Función para agregar el contenido a la página y manejar el Tiempo
        function addContent(text, creationTime, timePassed, price, backgroundColor) {
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('content');
            contentDiv.style.backgroundColor = backgroundColor || '';  // Aplicar el color de fondo guardado

            const contentText = document.createElement('p');
            contentText.textContent = text;
            contentDiv.appendChild(contentText);

            // Mostrar la Entrada
            const timeParagraph = document.createElement('p');
            timeParagraph.textContent = 'Entrada: ' + new Date(creationTime).toLocaleTimeString();
            contentDiv.appendChild(timeParagraph);

            // Guardar la Entrada en el contenedor
            contentDiv.dataset.creationTime = creationTime;

            // Botón para mostrar el Tiempo y el precio
            const timeButton = document.createElement('button');
            timeButton.classList.add('btn', 'btn-SALIDA');
            timeButton.textContent = 'Salida';
            contentDiv.appendChild(timeButton);

            // Área para mostrar el Tiempo
            const timeInfoDiv = document.createElement('div');
            timeInfoDiv.classList.add('time-info');
            timeInfoDiv.textContent = timePassed;
            contentDiv.appendChild(timeInfoDiv);

            // Área para mostrar el precio
            const priceInfoDiv = document.createElement('div');
            priceInfoDiv.classList.add('price-info');
            priceInfoDiv.textContent = price;
            contentDiv.appendChild(priceInfoDiv);

            // Función para mostrar el Tiempo y el precio
            timeButton.addEventListener('click', function () {
                const creationTime = new Date(contentDiv.dataset.creationTime);
                const ahora = new Date();

                // Calcular la diferencia en segundos
                const diferenciaSegundos = Math.floor((ahora - creationTime) / 1000);

                // Calcular la cantidad de minutos completos que han pasado
                const diferenciaMinutos = Math.ceil(diferenciaSegundos / 60); 

                // Primer precio de $200
                let precio = 200;

                // Si han pasado minutos, cobramos $40 por cada minuto adicional
                if (diferenciaMinutos > 0) {
                    precio += diferenciaMinutos * 40; // Precio adicional por cada minuto
                }

                // Mostrar el Tiempo en el div correspondiente
                timeInfoDiv.innerHTML = `Tiempo: ${diferenciaMinutos} minutos.`;

                // Mostrar el precio en el div correspondiente
                priceInfoDiv.innerHTML = `Pagar: $${precio}`;

                // Crear los botones de Efectivo y Tarjeta al presionar el botón de Tiempo y precio
                const efectivoBtn = document.createElement('button');
                efectivoBtn.classList.add('btn', 'btn-light');
                efectivoBtn.textContent = 'Efectivo';

                const tarjetaBtn = document.createElement('button');
                tarjetaBtn.classList.add('btn', 'btn-info');
                tarjetaBtn.textContent = 'Tarjeta';

                // Añadir los botones a la div de contenido
                contentDiv.appendChild(efectivoBtn);
                contentDiv.appendChild(tarjetaBtn);

                // Función para cambiar el color a verde claro (Efectivo)
                efectivoBtn.addEventListener('click', function() {
                    contentDiv.style.backgroundColor = 'lightgreen';
                    totalEfectivo += precio; // Sumar el precio al total de efectivo
                    document.getElementById('totalEfectivo').textContent = `Total Efectivo: $${totalEfectivo}`;
                    updateTotalPatentes();  // Actualizar el total de Patentes
                    saveContent();  // Guardar el estado con el color actualizado
                });

                // Función para cambiar el color a azul claro (Tarjeta)
                tarjetaBtn.addEventListener('click', function() {
                    contentDiv.style.backgroundColor = 'lightblue';
                    totalTarjetas += precio; // Sumar el precio al total de tarjetas
                    document.getElementById('totalTarjetas').textContent = `Total Tarjetas: $${totalTarjetas}`;
                    updateTotalPatentes();  // Actualizar el total de Patentes
                    saveContent();  // Guardar el estado con el color actualizado
                });

                // Guardar el contenido actualizado después de calcular el Tiempo
                saveContent();
            });

            // Agregar el contenedor al contenido de la página
            document.getElementById('contentContainer').appendChild(contentDiv);
        }

        // Función para actualizar el total Patentes + Baño (suma de totalEfectivo + totalTarjetas + precioBaños)
        function updateTotalPatentesYBaño() {
            const totalPatentesYBaño = totalEfectivo + totalTarjetas + precioBaños;
            document.getElementById('totalPatentesYBaño').textContent = `Total Patentes y Baño: $${totalPatentesYBaño}`;
            // Guardar el total combinado de Patentes y Baño en el localStorage
            localStorage.setItem('totalPatentesYBaño', JSON.stringify(totalPatentesYBaño));
        }

        // Función para actualizar el total Patentes (suma de totalEfectivo + totalTarjetas)
        function updateTotalPatentes() {
            const totalPatentes = totalEfectivo + totalTarjetas;
            document.getElementById('totalPatentes').textContent = `Total Patentes: $${totalPatentes}`;
            // Guardar el total de Patentes en el localStorage
            localStorage.setItem('totalPatentes', JSON.stringify(totalPatentes));
            updateTotalPatentesYBaño(); // Actualizar el total combinado cuando cambia el total de Patentes
        }

        // Función para guardar el contenido en el localStorage
        function saveContent() {
            const contentList = [];
            const contentDivs = document.querySelectorAll('.content');
            contentDivs.forEach(function(div) {
                const text = div.querySelector('p').textContent;
                const creationTime = div.dataset.creationTime;
                const timePassed = div.querySelector('.time-info').innerHTML;
                const price = div.querySelector('.price-info').innerHTML;
                const backgroundColor = div.style.backgroundColor;  // Guardar el color de fondo
                contentList.push({ text, creationTime, timePassed, price, backgroundColor });
            });

            // Guardar los totales de efectivo, tarjetas y patentes
            localStorage.setItem('totalEfectivo', JSON.stringify(totalEfectivo));
            localStorage.setItem('totalTarjetas', JSON.stringify(totalTarjetas));

            // Guardar el contenido
            localStorage.setItem('contentList', JSON.stringify(contentList));
            localStorage.setItem('cantidadBaños', JSON.stringify(cantidadBaños));
            localStorage.setItem('precioBaños', JSON.stringify(precioBaños));
        }

        document.getElementById('addInputBtn').addEventListener('click', function () { 
    const container = document.createElement('div');
    container.classList.add('container');

    const input = document.createElement('input');
    input.type = 'text';
    
    // Asignar una clase al input para modificarlo con CSS
    input.classList.add('input-estilo');
    
    container.appendChild(input);

    // Asegurarnos de que el texto se vea en mayúsculas
    input.style.textTransform = 'uppercase'; // Aplica el estilo de mayúsculas
    input.addEventListener('input', function () {
        input.value = input.value.toUpperCase(); // Convierte el texto a mayúsculas mientras se escribe
    });

    // Añadir el contenedor al DOM
    document.getElementById('contentContainer').appendChild(container);

    // Asegurarnos de que el input se enfoque después de que el DOM se haya actualizado
    setTimeout(function() {
        input.focus();  // Esto debería asegurar que el input se enfoque correctamente

        // Asegurarse de que el input sea visible sin desplazar la página
        input.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }, 0);  // Ejecutarlo después de que el DOM haya procesado el cambio

    input.addEventListener('keydown', function (event) {
        if (event.key === 'Enter') {
            event.preventDefault(); // Evita el comportamiento predeterminado (como el desplazamiento hacia arriba)
            
            const text = input.value.trim();
            if (text) {
                const currentTime = new Date();

                // Crear el div con el contenido
                const contentDiv = document.createElement('div');
                contentDiv.classList.add('content');

                const contentText = document.createElement('p');
                contentText.textContent = text;
                contentDiv.appendChild(contentText);

                // Mostrar la Entrada
                const timeParagraph = document.createElement('p');
                timeParagraph.textContent = 'Entrada: ' + currentTime.toLocaleTimeString();
                contentDiv.appendChild(timeParagraph);

                // Guardar la Entrada en el contenedor
                contentDiv.dataset.creationTime = currentTime.toISOString();

                // Botón para mostrar el Tiempo y el precio
                const timeButton = document.createElement('button');
                timeButton.classList.add('btn', 'btn-SALIDA');
                timeButton.textContent = 'Salida';
                contentDiv.appendChild(timeButton);

                // Área para mostrar el Tiempo
                const timeInfoDiv = document.createElement('div');
                timeInfoDiv.classList.add('time-info');
                contentDiv.appendChild(timeInfoDiv);

                // Área para mostrar el precio
                const priceInfoDiv = document.createElement('div');
                priceInfoDiv.classList.add('price-info');
                contentDiv.appendChild(priceInfoDiv);

                // Calcular y mostrar el Tiempo y precio
                timeButton.addEventListener('click', function () {
                    // Deshabilitar el botón de salida después de presionar
                    timeButton.disabled = true;

                    const creationTime = new Date(contentDiv.dataset.creationTime);
                    const ahora = new Date();

                    // Calcular la diferencia en segundos
                    const diferenciaSegundos = Math.floor((ahora - creationTime) / 1000);

                    // Calcular la cantidad de minutos completos que han pasado
                    const diferenciaMinutos = Math.ceil(diferenciaSegundos / 60); 

                    // Primer precio de $200
                    let precio = 200;

                    // Si han pasado minutos, cobramos $40 por cada minuto adicional
                    if (diferenciaMinutos > 0) {
                        precio += diferenciaMinutos * 40; // Precio adicional por cada minuto
                    }

                    // Mostrar el Tiempo en el div correspondiente
                    timeInfoDiv.innerHTML = `Tiempo: ${diferenciaMinutos} minutos.`;

                    // Mostrar el precio en el div correspondiente
                    priceInfoDiv.innerHTML = `Pagar: $${precio}`;

                    // Crear los botones de Efectivo y Tarjeta al presionar el botón de Tiempo y precio
                    const efectivoBtn = document.createElement('button');
                    efectivoBtn.classList.add('btn', 'btn-light');
                    efectivoBtn.textContent = 'Efectivo';

                    const tarjetaBtn = document.createElement('button');
                    tarjetaBtn.classList.add('btn', 'btn-info');
                    tarjetaBtn.textContent = 'Tarjeta';

                    // Añadir los botones a la div de contenido
                    contentDiv.appendChild(efectivoBtn);
                    contentDiv.appendChild(tarjetaBtn);

                    // Función para cambiar el color a verde claro (Efectivo)
                    efectivoBtn.addEventListener('click', function() {
                        // Desactivar ambos botones después de presionar uno
                        efectivoBtn.disabled = true;
                        tarjetaBtn.disabled = true;

                        contentDiv.style.backgroundColor = 'lightgreen';
                        totalEfectivo += precio; // Sumar el precio al total de efectivo
                        document.getElementById('totalEfectivo').textContent = `Total Efectivo: $${totalEfectivo}`;
                        updateTotalPatentes();  // Actualizar el total de Patentes
                        saveContent();  // Guardar el estado con el color actualizado
                    });

                    // Función para cambiar el color a azul claro (Tarjeta)
                    tarjetaBtn.addEventListener('click', function() {
                        // Desactivar ambos botones después de presionar uno
                        efectivoBtn.disabled = true;
                        tarjetaBtn.disabled = true;

                        contentDiv.style.backgroundColor = 'lightblue';
                        totalTarjetas += precio; // Sumar el precio al total de tarjetas
                        document.getElementById('totalTarjetas').textContent = `Total Tarjetas: $${totalTarjetas}`;
                        updateTotalPatentes();  // Actualizar el total de Patentes
                        saveContent();  // Guardar el estado con el color actualizado
                    });

                    // Guardar el contenido actualizado después de calcular el Tiempo
                    saveContent();
                });

                // Eliminar el input
                container.remove();
                document.getElementById('contentContainer').appendChild(contentDiv);

                // Asegurarse de que el contenedor recién creado tenga el foco
                contentDiv.tabIndex = -1; // Hacer que el div sea enfocable
                contentDiv.focus(); // Enfocar el contenedor recién creado

                // Guardar el contenido después de agregarlo
                saveContent();
            }
        }
    });
});



        

                // Función para mostrar el modal de confirmación
function mostrarModal() {
    document.getElementById('confirmModal').style.display = 'flex';
}

// Función para cerrar el modal sin hacer nada
function cerrarModal() {
    document.getElementById('confirmModal').style.display = 'none';
}

// Función para eliminar todo el contenido del localStorage y reiniciar los valores
function eliminarContenido(confirmado) {
    if (confirmado) {
        // Eliminar los elementos específicos del localStorage
        localStorage.removeItem('contentList');
        localStorage.removeItem('totalEfectivo');
        localStorage.removeItem('totalTarjetas');
        localStorage.removeItem('totalPatentes');
        localStorage.removeItem('totalPatentesYBaño');
        localStorage.removeItem('cantidadBaños');
        localStorage.removeItem('precioBaños');

        // Reiniciar las variables a 0
        let totalEfectivo = 0;
        let totalTarjetas = 0;
        let cantidadBaños = 0;
        let precioBaños = 0;

        // Actualizar los valores en la página
        document.getElementById('totalEfectivo').textContent = `Total Efectivo: $${totalEfectivo}`;
        document.getElementById('totalTarjetas').textContent = `Total Tarjetas: $${totalTarjetas}`;
        document.getElementById('totalPatentes').textContent = `Total Patentes: $${totalEfectivo + totalTarjetas}`;
        document.getElementById('cantidadBaños').textContent = `Cantidad: ${cantidadBaños}`;
        document.getElementById('precioBaños').textContent = `Precio Baño: $${precioBaños}`;
        document.getElementById('totalPatentesYBaño').textContent = `Total Patentes y Baño: $0`;
        document.getElementById('contentContainer').innerHTML = '';

        // Recargar la página
        location.reload();
    }

    // Cerrar el modal sin hacer nada si la respuesta es "No"
    cerrarModal();
}

// Asignar el evento al botón para eliminar el contenido
document.getElementById('clearAllBtn').addEventListener('click', mostrarModal);




// funciones para el buscador////////////////////////////////////////////////////////////////////////

function buscarPatente() {
    const searchValue = document.getElementById('searchInput').value.toUpperCase();
    const contentContainers = document.querySelectorAll('.content');  // Seleccionamos los contenedores con la clase 'content'
    
    contentContainers.forEach(container => {
        const pText = container.querySelector('p').textContent.toUpperCase();  // Obtenemos el texto del <p> dentro del contenedor
        
        if (pText.includes(searchValue)) {
            container.style.display = 'flex';  // Mostrar el contenedor si coincide
        } else {
            container.style.display = 'none';  // Ocultar el contenedor si no coincide
        }
    });
}





        // Función para agregar un baño
        document.getElementById('addBañoBtn').addEventListener('click', function () {
            cantidadBaños += 1;
            precioBaños += 500;

            // Actualizar el contador de baños y el precio
            document.getElementById('cantidadBaños').textContent = `Cantidad: ${cantidadBaños}`;
            document.getElementById('precioBaños').textContent = `Precio Baño: $${precioBaños}`;

            // Actualizar el total de Patentes + Baño
            updateTotalPatentesYBaño();

            // Guardar los valores de cantidad y precio de baño
            saveContent();
        });

        // Cargar contenido guardado cuando la página se carga
        window.onload = loadContent;





 // funcion para el boton de la impresora (cambia la imagen al pasar el mause por encima de la imagen) ////////////////////////////////////////////////

    function cambiarImagen() {
    document.getElementById('imagen-logo').src = 'impresora.png'; // Cambia 'nueva-imagen.png' por la ruta de tu nueva imagen
  }

    function restaurarImagen() {
    document.getElementById('imagen-logo').src = 'impresora2.png'; // Restaura la imagen original
  }
    </script>
</body>
</html>



